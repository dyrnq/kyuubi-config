#Server parameters
bookiePort=3181
allowMultipleDirsUnderSameDiskPartition=true
listeningInterface=eth0
advertisedAddress=eth0
allowLoopback=false
useHostNameAsBookieID=false
useShortHostName=false
allowEphemeralPorts=false
enableLocalTransport=false
disableServerSocketBind=false
bookieDeathWatchInterval=1000
extraServerComponents=
ignoreExtraServerComponentsStartupFailures=false
#Worker thread settings
numAddWorkerThreads=1
numReadWorkerThreads=8
numLongPollWorkerThreads=
numJournalCallbackThreads=1
numHighPriorityWorkerThreads=8
maxPendingAddRequestsPerThread=10000
maxPendingReadRequestsPerThread=10000
enableBusyWait=
#Long poll settings
requestTimerTickDurationMs=10
requestTimerNumTicks=1024
#Read-only mode support
readOnlyModeEnabled=true
forceReadOnlyBookie=false
persistBookieStatusEnabled=false
readOnlyModeOnAnyDiskFullEnabled=false
#Netty server settings
serverTcpNoDelay=true
serverSockKeepalive=true
serverTcpLinger=
byteBufAllocatorSizeInitial=65536
byteBufAllocatorSizeMin=65536
byteBufAllocatorSizeMax=1048576
nettyMaxFrameSizeBytes=5242880
#Http server settings
httpServerEnabled=false
httpServerPort=8080
httpServerHost=0.0.0.0
#Security settings
bookieAuthProviderFactoryClass=
permittedStartupUsers=
#TLS settings
tlsProvider=OpenSSL
tlsProviderFactoryClass=org.apache.bookkeeper.tls.TLSContextFactory
tlsClientAuthentication=true
tlsKeyStoreType=JKS
tlsKeyStore=
tlsKeyStore=
tlsKeyStorePasswordPath=
tlsTrustStoreType=
tlsTrustStore=
tlsTrustStorePasswordPath=
tlsCertificatePath=
#Journal settings
journalDirectories=/tmp/bk-journal
journalDirectory=/tmp/bk-txn
journalFormatVersionToWrite=6
journalMaxSizeMB=2048
journalMaxBackups=5
journalPreAllocSizeMB=16
journalWriteBufferSizeKB=64
journalRemoveFromPageCache=true
journalSyncData=true
journalAdaptiveGroupWrites=true
journalMaxGroupWaitMSec=2
journalBufferedWritesThreshold=524288
journalFlushWhenQueueEmpty=false
journalAlignmentSize=512
journalBufferedEntriesThreshold=
journalFlushWhenQueueEmpty=false
journalQueueSize=10000
#Ledger storage settings
ledgerStorageClass=org.apache.bookkeeper.bookie.SortedLedgerStorage
sortedLedgerStorageEnabled=true
ledgerDirectories=/tmp/bk-data
indexDirectories=/tmp/bk-data
minUsableSizeForIndexFileCreation=1073741824
minUsableSizeForEntryLogCreation=1.2 * logSizeLimit
minUsableSizeForHighPriorityWrites=1.2 * logSizeLimit
flushInterval=10000
allowStorageExpansion=false
#Default Entry log settings
logSizeLimit=2147483648
entryLogFilePreallocationEnabled=true
flushEntrylogBytes=
readBufferSizeBytes=512
writeBufferSizeBytes=65536
entryLogPerLedgerEnabled=
entrylogMapAccessExpiryTimeInSeconds=300
maximumNumberOfActiveEntryLogs=500
entryLogPerLedgerCounterLimitsMultFactor=10
#DirectIO Entry log settings (Only support DbLedgerStorage)
dbStorage_directIOEntryLogger=false
dbStorage_directIOEntryLoggerTotalWriteBufferSizeMB=1/8 of max direct memory
dbStorage_directIOEntryLoggerTotalReadBufferSizeMB=1/8 of max direct memory
dbStorage_directIOEntryLoggerReadBufferSizeMB=8
dbStorage_directIOEntryLoggerMaxFdCacheTimeSeconds=300
logSizeLimit=2147483648
#Entry log compaction settings
isThrottleByBytes=false
compactionRate=1000
compactionRateByEntries=1000
compactionRateByBytes=1000000
compactionMaxOutstandingRequests=100000
minorCompactionThreshold=0.2
majorCompactionThreshold=0.8
minorCompactionInterval=3600
majorCompactionInterval=86400
minorCompactionMaxTimeMillis=-1 to run indefinitely.
majorCompactionMaxTimeMillis=-1 to run indefinitely.
useTransactionalCompaction=false
#Garbage collection settings
gcWaitTime=1000
gcOverreplicatedLedgerWaitTime=86400000
gcOverreplicatedLedgerMaxConcurrentRequests=1000
isForceGCAllowWhenNoSpace=false
verifyMetadataOnGC=false
#Disk utilization
diskUsageThreshold=0.95
diskUsageWarnThreshold=0.95
diskUsageLwmThreshold=0.9
diskCheckInterval=10000
#Sorted Ledger Storage Settings
skipListSizeLimit=67108864
skipListArenaChunkSize=4194304
skipListArenaMaxAllocSize=131072
openFileLimit=20000
fileInfoCacheInitialCapacity=
fileInfoMaxIdleTime=
fileInfoFormatVersionToWrite=1
pageSize=8192
pageLimit=-1
numOfMemtableFlushThreads=8
#DB Ledger Storage Settings
dbStorage_writeCacheMaxSizeMb=25% of the available direct memory
dbStorage_readAheadCacheMaxSizeMb=25% of the available direct memory
dbStorage_readAheadCacheBatchSize=100
dbStorage_rocksDB_blockSize=268435456
dbStorage_rocksDB_writeBufferSizeMB=64
dbStorage_rocksDB_sstSizeInMB=64
dbStorage_rocksDB_blockSize=65536
dbStorage_rocksDB_bloomFilterBitsPerKey=10
dbStorage_rocksDB_numLevels=-1
dbStorage_rocksDB_numFilesInLevel0=10
dbStorage_rocksDB_maxSizeInLevel1MB=256
#Metadata Service Settings
metadataServiceUri=zk+hierarchical://localhost:2181/ledgers
ledgerManagerFactoryClass=hierarchical
allowShadedLedgerManagerFactoryClass=false
shadedLedgerManagerFactoryClassPrefix=dlshade.
#ZooKeeper Metadata Service Settings
zkLedgersRootPath=/ledgers
zkServers=localhost:2181
zkTimeout=10000
zkRetryBackoffStartMs=1000
zkRetryBackoffMaxMs=10000
zkRequestRateLimit=
zkEnableSecurity=false
#Statistics
enableStatistics=true
sanityCheckMetricsEnabled=false
statsProviderClass=org.apache.bookkeeper.stats.prometheus.PrometheusMetricsProvider
limitStatsLogging=true
#Prometheus Metrics Provider Settings
prometheusStatsHttpAddress=0.0.0.0
prometheusStatsHttpPort=8000
prometheusStatsLatencyRolloverSeconds=60
#Codahale Metrics Provider Settings
codahaleStatsPrefix=
codahaleStatsOutputFrequencySeconds=60
codahaleStatsGraphiteEndpoint=null
codahaleStatsCSVEndpoint=null
codahaleStatsSlf4jEndpoint=null
codahaleStatsJmxEndpoint=
#AutoRecovery general settings
autoRecoveryDaemonEnabled=
digestType=CRC32
passwd=
enableDigestTypeAutodetection=true
#AutoRecovery placement settings
ensemblePlacementPolicy=org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy
reppDnsResolverClass=org.apache.bookkeeper.net.ScriptBasedMapping
networkTopologyScriptFileName=
networkTopologyScriptNumberArgs=
minNumRacksPerWriteQuorum=
enforceMinNumRacksPerWriteQuorum=
ignoreLocalNodeInPlacementPolicy=
enforceMinNumFaultDomainsForWrite=
minNumZonesPerWriteQuorum=2
desiredNumZonesPerWriteQuorum=3
enforceStrictZoneawarePlacement=true
#AutoRecovery auditor settings
auditorPeriodicBookieCheckInterval=86400
auditorPeriodicCheckInterval=604800
auditorPeriodicPlacementPolicyCheckInterval=0
repairedPlacementPolicyNotAdheringBookieEnabled=false
auditorLedgerVerificationPercentage=
lostBookieRecoveryDelay=
storeSystemTimeAsLedgerUnderreplicatedMarkTime=true
underreplicatedLedgerRecoveryGracePeriod=
auditorReplicasCheckInterval=
#AutoRecovery replication worker settings
rereplicationEntryBatchSize=10
openLedgerRereplicationGracePeriod=30000
lockReleaseOfFailedLedgerGracePeriod=300000
rwRereplicateBackoffMs=5000
zkReplicationTaskRateLimit=0
#Memory allocator settings
allocatorPoolingPolicy=PooledDirect
allocatorPoolingConcurrency=2 * CPUS
allocatorOutOfMemoryPolicy=FallbackToHeap
allocatorLeakDetectionPolicy=Disabled
